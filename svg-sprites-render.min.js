(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++){if(t in this&&this[t]===e)return t}return-1};if(!window){throw new Error("For web browser only!!")}window.svgSprites=function(){var t,r,n,o,i,s,u,l;l={};n=[];u=this;s=function(e){var t,r,n,o,i,s,u,l,c;if(!e){throw new Error("Request Options is required")}s=e.url;n=e.async||true;u=e.user||"";o=e.password||"";i=e.timeout||0;if(!s){throw new Error("Request URL is required")}l=e.success;r=e.error;t=e.complete;c=new XMLHttpRequest;c.timeout=i;c.ontimeout=function(){return console.error("The request for "+s+" timed out.")};c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){if(c.status===200){if(typeof l==="function"){l(c.response,c.status)}}else{if(typeof r==="function"){r(c.response,c.status)}}if(typeof t==="function"){t(c.response,c.status)}}};c.open("GET",s,n,u,o);c.setRequestHeader("Accept","text/xml");return c.send()};o=function(e){var t;t=n.indexOf(e);if(t>-1){n.splice(t,1)}};t=function(t,r){var n,o,i,s,u,c,f,a,d;i=document.createElement("div");i.innerHTML=t;a=i.querySelectorAll("[id]");l[r]={};for(s=0,u=a.length;s<u;s++){f=a[s];try{d=f.getAttribute("viewBox");if(!d){continue}if(c=f.id,e.call(l[r],c)<0){l[r][f.id]={children:function(){var e,t,r,o;r=f.childNodes;o=[];for(e=0,t=r.length;e<t;e++){n=r[e];if(n.nodeType===1){o.push(n)}}return o}(),view:d}}else{throw new Error("SVG ID is duplicated!!")}}catch(p){o=p;console.error(o)}}};r=function(e){var t,r,n;t=e&&typeof e==="object"&&e!==null;r=e.nodeType===1&&typeof e.nodeName==="string";n=t&&r;return n};i=function(e){var t,n,o,i,s,u,c,f,a,d,p,h,v;if(!e||!r(e)){e=document}if(e.nodeName.toUpperCase()==="SVG"&&e.getAttribute("svg-sprite")){p=[e]}else{p=e.querySelectorAll("svg[svg-sprite]")}for(i=0,c=p.length;i<c;i++){d=p[i];h=d.getAttribute("svg-sprite");if(!h){continue}v=h.split(":");if(v.length<2){continue}n=v[0];s=v[1];o=l[n];while(d.firstChild){d.removeChild(d.firstChild)}if(s&&o&&o.hasOwnProperty(s)){a=o[s].children;for(u=0,f=a.length;u<f;u++){t=a[u];d.appendChild(t.cloneNode(true))}d.setAttribute("viewBox",o[s].view)}else{console.error("SVG Sprite '"+h+"' not found:");console.log(n,s);console.log(l,o)}}};this.load=function(e,r){if(!r){r=e.replace(/^.*[\\\/]/,"")}n.push(e);console.log("SVG Sprites load "+e+" ["+r+"]");s({type:"GET",url:e,success:function(n){t(n,r);return o(e)},error:function(t,r){console.error("Ajax error! "+r,t);o(e)}})};this.render=function(e,t){var r;if(!t){t=3e4}t=(new Date).getTime()+t;r=setInterval(function(){var o;try{if(n.length<=0){clearInterval(r);i(e)}if((new Date).getTime()>t){clearInterval(r);throw new Error("SVG Sprites render timeout!!")}}catch(s){o=s;return console.error(o)}},100)};return this};if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){var e,t,r,n,o,i,s;document.removeEventListener("DOMContentLoaded",arguments.callee,false);o=new svgSprites;i=document.querySelectorAll("[svg-sprites-loader]");if(!i||i.length<=0){return}for(t=0,r=i.length;t<r;t++){n=i[t];s=n.dataset.url;e=n.dataset.name;if(typeof s==="string"&&typeof e==="string"){o.load(s,e)}}return o.render()},false)}}).call(this);