(function(){var e,t,r=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++){if(t in this&&this[t]===e)return t}return-1};if(!window){throw new Error("For web browser only!!")}window.svgSprites=function(){var e,t,n,o,i,s,u,l,c;c="1.1.0";l={};n=[];u=this;s=function(e){var t,r,n,o,i,s,u,l,c;if(!e){throw new Error("Request Options is required")}s=e.url;n=e.async||true;u=e.user||"";o=e.password||"";i=e.timeout||0;if(!s){throw new Error("Request URL is required")}l=e.success;r=e.error;t=e.complete;c=new XMLHttpRequest;c.timeout=i;c.ontimeout=function(){return console.error("The request for "+s+" timed out.")};c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){if(c.status===200){if(typeof l==="function"){l(c.response,c.status)}}else{if(typeof r==="function"){r(c.response,c.status)}}if(typeof t==="function"){t(c.response,c.status)}}};c.open("GET",s,n,u,o);c.setRequestHeader("Accept","text/xml");c.setRequestHeader("X-Requested-With","XMLHttpRequest");return c.send()};o=function(e){var t;t=n.indexOf(e);if(t>-1){n.splice(t,1)}};e=function(e,t){var n,o,i,s,u,c,f,a,d,p;s=document.createElement("div");s.innerHTML=e;d=s.querySelectorAll("[id]");l[t]={};for(u=0,c=d.length;u<c;u++){a=d[u];try{p=a.getAttribute("viewBox");if(!p){continue}if(f=a.id,r.call(l[t],f)<0){l[t][a.id]={children:function(){var e,t,r,o;r=a.childNodes;o=[];for(e=0,t=r.length;e<t;e++){n=r[e];if(n.nodeType===1){o.push(n)}}return o}(),view:p}}else{throw new Error("SVG ID is duplicated!!")}}catch(i){o=i;console.error(o)}}};t=function(e){var t,r,n;t=e&&typeof e==="object"&&e!==null;r=e.nodeType===1&&typeof e.nodeName==="string";n=t&&r;return n};i=function(e){var r,n,o,i,s,u,c,f,a,d,p,h,v;if(!e||!t(e)){e=document}if(e.nodeName.toUpperCase()==="SVG"&&e.getAttribute("svg-sprite")){p=[e]}else{p=e.querySelectorAll("svg[svg-sprite]")}for(i=0,c=p.length;i<c;i++){d=p[i];h=d.getAttribute("svg-sprite");if(!h){continue}v=h.split(":");if(v.length<2){continue}n=v[0];s=v[1];o=l[n];while(d.firstChild){d.removeChild(d.firstChild)}if(s&&o&&o.hasOwnProperty(s)){a=o[s].children;for(u=0,f=a.length;u<f;u++){r=a[u];d.appendChild(r.cloneNode(true))}d.setAttribute("viewBox",o[s].view)}else{console.error("SVG Sprite '"+h+"' not found:");console.log(n,s);console.log(l,o)}}};this.load=function(t,r){if(!r){r=t.replace(/^.*[\\\/]/,"")}n.push(t);console.log("SVG Sprites load "+t+" ["+r+"]");s({type:"GET",url:t,success:function(n){e(n,r);return o(t)},error:function(e,r){console.error("Ajax error! "+r,e);o(t)}})};this.render=function(e,t){var r;if(!t){t=3e4}t=(new Date).getTime()+t;r=setInterval(function(){var o,s;try{if(n.length<=0){clearInterval(r);i(e)}if((new Date).getTime()>t){clearInterval(r);throw new Error("SVG Sprites render timeout!!")}}catch(s){o=s;return console.error(o)}},100)};return this};t=false;e=function(){var e,r,n,o,i,s,u;if(t){return}i=new svgSprites;s=document.querySelectorAll("[svg-sprites-loader]");if(!s||s.length<=0){return}for(r=0,n=s.length;r<n;r++){o=s[r];u=o.dataset.url;e=o.dataset.name;if(typeof u==="string"&&typeof e==="string"){i.load(u,e)}}i.render();return t=true};if(document.readyState==="complete"||document.readyState==="loaded"){e()}else if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,false);return e()},false)}}).call(this);