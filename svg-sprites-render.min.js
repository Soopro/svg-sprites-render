(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++){if(t in this&&this[t]===e)return t}return-1};if(!window){throw new Error("For web browser only!!")}window.svgSprites=function(){var t,r,n,i,o,s,u;u={};r=[];s=this;o=function(e){var t,r,n,i,o,s,u,c,f;if(!e){throw new Error("Request Options is required")}s=e.url;n=e.async||true;u=e.user||"";i=e.password||"";o=e.timeout||0;if(!s){throw new Error("Request URL is required")}c=e.success;r=e.error;t=e.complete;f=new XMLHttpRequest;f.timeout=o;f.ontimeout=function(){return console.error("The request for "+s+" timed out.")};f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200){if(typeof c==="function"){c(f.response,f.status)}}else{if(typeof r==="function"){r(f.response,f.status)}}if(typeof t==="function"){t(f.response,f.status)}}};f.open("GET",s,n,u,i);f.setRequestHeader("Accept","text/xml");return f.send()};n=function(e){var t;t=r.indexOf(e);if(t>-1){r.splice(t,1)}};t=function(t,r){var n,i,o,s,c,f,l,a,d;o=document.createElement("div");o.innerHTML=t;a=o.querySelectorAll("[id]");u[r]={};for(s=0,c=a.length;s<c;s++){l=a[s];try{d=l.getAttribute("viewBox");if(!d){continue}if(f=l.id,e.call(u[r],f)<0){u[r][l.id]={children:function(){var e,t,r,i;r=l.childNodes;i=[];for(e=0,t=r.length;e<t;e++){n=r[e];if(n.nodeType===1){i.push(n)}}return i}(),view:d}}else{throw new Error("SVG ID is duplicated!!")}}catch(h){i=h;console.error(i)}}};i=function(e){var t,r,n,i,o,s,c,f,l,a,d,h,p;if(!e){e=document}d=e.querySelectorAll("svg[svg-sprite]");for(i=0,c=d.length;i<c;i++){a=d[i];h=a.getAttribute("svg-sprite");if(!h){continue}p=h.split(":");if(p.length<2){continue}r=p[0];o=p[1];n=u[r];if(o&&n&&n.hasOwnProperty(o)){l=n[o].children;for(s=0,f=l.length;s<f;s++){t=l[s];a.appendChild(t)}a.setAttribute("viewBox",n[o].view)}else{console.error("SVG Sprite '"+h+"' not found")}}};this.load=function(e,i){r.push(e);o({type:"GET",url:e,success:function(r){if(!i){i=e.replace(/^.*[\\\/]/,"")}t(r,i);return n(e)},error:function(t,r){console.error("Ajax error! "+r,t);n(e)}})};this.render=function(e){var t;if(!e){e=3e4}e=(new Date).getTime()+e;t=setInterval(function(){var n;try{if(r.length>=0){clearInterval(t);i()}if((new Date).getTime()>e){clearInterval(t);throw new Error("SVG Sprites render timeout!!")}}catch(o){n=o;return console.error(n)}},100)};return this}}).call(this);