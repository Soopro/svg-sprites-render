(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++){if(t in this&&this[t]===e)return t}return-1};if(!window){throw new Error("For web browser only!!")}window.svgSprites=function(){var t,r,n,i,o,s,u,c;c={};n=[];u=this;s=function(e){var t,r,n,i,o,s,u,c,f;if(!e){throw new Error("Request Options is required")}s=e.url;n=e.async||true;u=e.user||"";i=e.password||"";o=e.timeout||0;if(!s){throw new Error("Request URL is required")}c=e.success;r=e.error;t=e.complete;f=new XMLHttpRequest;f.timeout=o;f.ontimeout=function(){return console.error("The request for "+s+" timed out.")};f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200){if(typeof c==="function"){c(f.response,f.status)}}else{if(typeof r==="function"){r(f.response,f.status)}}if(typeof t==="function"){t(f.response,f.status)}}};f.open("GET",s,n,u,i);f.setRequestHeader("Accept","text/xml");return f.send()};i=function(e){var t;t=n.indexOf(e);if(t>-1){n.splice(t,1)}};t=function(t,r){var n,i,o,s,u,f,l,a,d;o=document.createElement("div");o.innerHTML=t;a=o.querySelectorAll("[id]");c[r]={};for(s=0,u=a.length;s<u;s++){l=a[s];try{d=l.getAttribute("viewBox");if(!d){continue}if(f=l.id,e.call(c[r],f)<0){c[r][l.id]={children:function(){var e,t,r,i;r=l.childNodes;i=[];for(e=0,t=r.length;e<t;e++){n=r[e];if(n.nodeType===1){i.push(n)}}return i}(),view:d}}else{throw new Error("SVG ID is duplicated!!")}}catch(h){i=h;console.error(i)}}};r=function(e){var t,r,n;t=e&&typeof e==="object"&&e!==null;r=e.nodeType===1&&typeof e.nodeName==="string";n=t&&r;return n};o=function(e){var t,n,i,o,s,u,f,l,a,d,h,p,w;if(!e||!r(e)){e=document}if(e.nodeName.toUpperCase()==="SVG"&&e.getAttribute("svg-sprite")){h=[e]}else{h=e.querySelectorAll("svg[svg-sprite]")}for(o=0,f=h.length;o<f;o++){d=h[o];p=d.getAttribute("svg-sprite");if(!p){continue}w=p.split(":");if(w.length<2){continue}n=w[0];s=w[1];i=c[n];while(d.firstChild){d.removeChild(d.firstChild)}if(s&&i&&i.hasOwnProperty(s)){a=i[s].children;for(u=0,l=a.length;u<l;u++){t=a[u];d.appendChild(t)}d.setAttribute("viewBox",i[s].view)}else{console.error("SVG Sprite '"+p+"' not found:");console.error(c,i,s)}}};this.load=function(e,r){n.push(e);if(!r){r=e.replace(/^.*[\\\/]/,"")}s({type:"GET",url:e,success:function(n){t(n,r);return i(e)},error:function(t,r){console.error("Ajax error! "+r,t);i(e)}})};this.render=function(e,t){var r;if(!t){t=3e4}t=(new Date).getTime()+t;r=setInterval(function(){var i;try{if(n.length>=0){clearInterval(r);o(e)}if((new Date).getTime()>t){clearInterval(r);throw new Error("SVG Sprites render timeout!!")}}catch(s){i=s;return console.error(i)}},100)};return this}}).call(this);