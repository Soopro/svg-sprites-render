(function(){var e=[].indexOf||function(e){for(var t=0,r=this.length;t<r;t++){if(t in this&&this[t]===e)return t}return-1};if(!window){throw new Error("For web browser only!!")}window.svgSprites=function(){var t,r,n,i,o,s,u;u={};r=[];s=this;o=function(e){var t,r,n,i,o,s,u,c,f;if(!e){throw new Error("Request Options is required")}s=e.url;n=e.async||true;u=e.user||"";i=e.password||"";o=e.timeout||0;if(!s){throw new Error("Request URL is required")}c=e.success;r=e.error;t=e.complete;f=new XMLHttpRequest;f.timeout=o;f.ontimeout=function(){return console.error("The request for "+s+" timed out.")};f.onreadystatechange=function(){if(f.readyState===XMLHttpRequest.DONE){if(f.status===200){if(typeof c==="function"){c(f.response,f.status)}}else{if(typeof r==="function"){r(f.response,f.status)}}if(typeof t==="function"){t(f.response,f.status)}}};f.open("GET",s,n,u,i);f.setRequestHeader("Accept","text/xml");return f.send()};n=function(e){var t;t=r.indexOf(e);if(t>-1){r.splice(t,1)}};t=function(t,r){var n,i,o,s,c,f,l;i=document.createElement("div");i.innerHTML=t;l=i.querySelectorAll("[id][viewBox]");u[r]={};for(o=0,s=l.length;o<s;o++){f=l[o];try{if(c=f.id,e.call(u[r],c)<0){u[r][f.id]={code:f.innerHTML,view:f.getAttribute("viewBox")}}else{throw new Error("SVG ID is duplicated!!")}}catch(a){n=a;console.error(n)}}};i=function(e){var t,r,n,i,o,s,c,f,l;if(!e){e=document}r=e.querySelectorAll("svg[svg-sprite]");for(o=0,c=r.length;o<c;o++){t=r[o];f=t.getAttribute("svg-sprite");if(!f){continue}l=f.split(":");if(f.length<2){continue}n=l[0];s=l[1];i=u[n];if(s&&i&&i.hasOwnProperty(s)){t.innerHTML=i[s].code;t.setAttribute("viewBox",i[s].view)}else{console.error("SVG Sprite '"+f+"' not found")}}};this.load=function(e,i){r.push(e);o({type:"GET",url:e,success:function(r){if(!i){i=e.replace(/^.*[\\\/]/,"")}t(r,i);return n(e)},error:function(t,r){console.error("Ajax error! "+r,t);n(e)}})};this.render=function(e){var t;if(!e){e=3e4}e=(new Date).getTime()+e;t=setInterval(function(){var n;try{if(r.length>=0){clearInterval(t);i()}if((new Date).getTime()>e){clearInterval(t);throw new Error("SVG Sprites render timeout!!")}}catch(o){n=o;return console.error(n)}},100)};return this}}).call(this);